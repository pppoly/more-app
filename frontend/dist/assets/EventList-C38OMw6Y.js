import{d as U,u as V,l as A,r,c as w,g as I,o as N,m as $,a as n,b as l,e,p as j,q,w as d,j as v,t as c,s as K,v as O,F as C,f as x,n as L,i as G,x as y,k as H,_ as J}from"./index-BPws346P.js";const P={class:"events-mobile"},Q={class:"app-bar"},W={key:1,class:"user-avatar"},X={class:"search-section"},Y={class:"search-box"},Z={class:"chip-row"},tt=["onClick"],st={key:0,class:"status"},et={key:1,class:"status error"},at={key:2,class:"list-wrapper"},ot={key:0,class:"empty-state"},lt={key:1,class:"chat-list"},nt=["onClick"],ct={class:"info"},rt={class:"chat-title"},it={class:"chat-sub"},ut={class:"chat-meta"},dt={class:"tab-bar"},vt="å‚åŠ æž : ãƒã‚§ãƒƒã‚¯ä¸­",pt=U({__name:"EventList",setup(_t){const D=V(),{user:h}=A(),k=r([]),p=r(!0),i=r(null),_=r(""),E=[{label:"å…¨éƒ¨",value:"all"},{label:"è¦ªå­",value:"kids"},{label:"ã‚¹ãƒãƒ¼ãƒ„",value:"sports"},{label:"è¨€èªžäº¤æ›",value:"language"},{label:"æ–°æ¥æ—¥æœ¬",value:"newlife"},{label:"ä»•äº‹ãƒ»ã‚¹ã‚­ãƒ«",value:"career"}],u=r("all"),T=async()=>{p.value=!0,i.value=null;try{k.value=await H()}catch(s){i.value=s instanceof Error?s.message:"Failed to load events"}finally{p.value=!1}},f=w(()=>{const s=_.value.toLowerCase();return k.value.filter(t=>{const o=(t.category||"other").toLowerCase(),a=u.value==="all"||o.includes(u.value),m=g(t).toLowerCase(),S=!s||m.includes(s)||t.locationText.toLowerCase().includes(s);return a&&S})}),B=w(()=>{var s,t,o;return((o=(t=(s=h.value)==null?void 0:s.name)==null?void 0:t.charAt(0))==null?void 0:o.toUpperCase())??"U"}),g=s=>I(s.title),M=s=>new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",weekday:"short"}),b=s=>{const t=new Date,o=new Date(s.startTime);return s.status==="open"&&o>t?{text:"å—ä»˜ä¸­",class:"open"}:{text:"çµ‚äº†",class:"closed"}},z=s=>{var t;return(((t=s.community.name)==null?void 0:t.charAt(0))??"M").toUpperCase()},F=s=>({background:"linear-gradient(135deg, var(--color-primary), #4cd964)"}),R=s=>{D.push(`/events/${s}`)};return N(T),(s,t)=>{const o=$("RouterLink");return l(),n("section",P,[e("header",Q,[t[2]||(t[2]=e("div",{class:"logo-circle"},"M",-1)),t[3]||(t[3]=e("div",{class:"app-title"},[e("p",{class:"title"},"MORE ã‚¤ãƒ™ãƒ³ãƒˆ"),e("p",{class:"subtitle"},"æ°—ã«ãªã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒãƒ£ãƒƒãƒˆæ„Ÿè¦šã§ãƒã‚§ãƒƒã‚¯")],-1)),q(h)?(l(),n("div",W,c(B.value),1)):(l(),j(o,{key:0,class:"login-chip",to:"/organizer/apply"},{default:d(()=>[...t[1]||(t[1]=[v("ãƒ­ã‚°ã‚¤ãƒ³",-1)])]),_:1}))]),e("div",X,[e("div",Y,[t[4]||(t[4]=e("span",{class:"icon"},"ðŸ”",-1)),K(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>_.value=a),type:"search",placeholder:"ã‚¤ãƒ™ãƒ³ãƒˆ / ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’æ¤œç´¢"},null,512),[[O,_.value]])]),e("div",Z,[(l(),n(C,null,x(E,a=>e("button",{key:a.value,class:L(["chip",{active:u.value===a.value}]),type:"button",onClick:m=>u.value=a.value},c(a.label),11,tt)),64))])]),p.value?(l(),n("p",st,"èª­ã¿è¾¼ã¿ä¸­...")):i.value?(l(),n("p",et,c(i.value),1)):(l(),n("div",at,[f.value.length?(l(),n("ul",lt,[(l(!0),n(C,null,x(f.value,a=>(l(),n("li",{key:a.id,class:"chat-card",onClick:m=>R(a.id)},[e("div",{class:"cover",style:G(F())},[e("span",null,c(z(a)),1)],4),e("div",ct,[e("p",rt,c(g(a)),1),e("p",it,c(M(a.startTime))+" Â· "+c(a.locationText),1),e("div",ut,[e("span",{class:L(["status-pill",b(a).class])},c(b(a).text),3),e("span",{class:"capacity"},c(vt))])])],8,nt))),128))])):(l(),n("div",ot," ç¾åœ¨å…¬é–‹ä¸­ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ "))])),e("nav",dt,[y(o,{to:"/events",class:"tab-item active"},{default:d(()=>[...t[5]||(t[5]=[v("ã‚¤ãƒ™ãƒ³ãƒˆ",-1)])]),_:1}),y(o,{to:"/community/musashino-kids",class:"tab-item"},{default:d(()=>[...t[6]||(t[6]=[v("ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£",-1)])]),_:1}),y(o,{to:"/console",class:"tab-item"},{default:d(()=>[...t[7]||(t[7]=[v("ã‚³ãƒ³ã‚½ãƒ¼ãƒ«",-1)])]),_:1})])])}}}),yt=J(pt,[["__scopeId","data-v-5284f20c"]]);export{yt as default};
