import{d as M,u as N,l as S,r as c,c as w,g as $,o as A,m as R,a as n,b as o,e as a,p as j,q,s as d,i as v,t as r,v as K,x as G,F as C,f as x,j as L,h as H,n as J,y,k as O,_ as P}from"./index-OEpVzuiB.js";const Q={class:"events-mobile"},W={class:"app-bar"},X={key:1,class:"user-avatar"},Y={class:"search-section"},Z={class:"search-box"},ee={class:"chip-container"},te={class:"chip-row"},se=["onClick"],ae={key:0,class:"status"},oe={key:1,class:"status error"},le={key:2,class:"list-wrapper"},ne={key:0,class:"empty-state"},re={key:1,class:"event-list"},ce=["onClick"],ie={key:0,class:"event-card__fallback"},ue={class:"event-card__body"},de={class:"event-card__title"},ve={class:"event-card__meta"},_e={class:"event-card__location"},pe={class:"event-card__footer"},me={class:"tab-bar"},ye="å‚åŠ æž : ãƒã‚§ãƒƒã‚¯ä¸­",he=M({__name:"EventList",setup(ge){const D=N(),{user:h}=S(),g=c([]),_=c(!0),i=c(null),p=c(""),I=[{label:"å…¨éƒ¨",value:"all"},{label:"è¦ªå­",value:"kids"},{label:"ã‚¹ãƒãƒ¼ãƒ„",value:"sports"},{label:"è¨€èªžäº¤æ›",value:"language"},{label:"æ–°æ¥æ—¥æœ¬",value:"newlife"},{label:"ä»•äº‹ãƒ»ã‚¹ã‚­ãƒ«",value:"career"}],u=c("all"),T=async()=>{_.value=!0,i.value=null;try{g.value=await O()}catch(t){i.value=t instanceof Error?t.message:"Failed to load events"}finally{_.value=!1}},k=w(()=>{const t=p.value.toLowerCase();return g.value.filter(e=>{const l=(e.category||"other").toLowerCase(),s=u.value==="all"||l.includes(u.value),m=b(e).toLowerCase(),F=!t||m.includes(t)||e.locationText.toLowerCase().includes(t);return s&&F})}),E=w(()=>{var t,e,l;return((l=(e=(t=h.value)==null?void 0:t.name)==null?void 0:e.charAt(0))==null?void 0:l.toUpperCase())??"U"}),b=t=>$(t.title),U=t=>new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric",weekday:"short"}),f=t=>{const e=new Date,l=new Date(t.startTime);return t.status==="open"&&l>e?{text:"å—ä»˜ä¸­",class:"open"}:{text:"çµ‚äº†",class:"closed"}},B=t=>{var e;return(((e=t.community.name)==null?void 0:e.charAt(0))??"M").toUpperCase()},V=t=>t.coverImageUrl?{backgroundImage:`url(${t.coverImageUrl})`}:{background:"linear-gradient(135deg, var(--color-primary), #4cd964)"},z=t=>{D.push(`/events/${t}`)};return A(T),(t,e)=>{const l=R("RouterLink");return o(),n("section",Q,[a("header",W,[e[2]||(e[2]=a("div",{class:"logo-circle"},"M",-1)),q(h)?(o(),n("div",X,r(E.value),1)):(o(),j(l,{key:0,class:"login-chip",to:"/organizer/apply"},{default:d(()=>[...e[1]||(e[1]=[v("ãƒ­ã‚°ã‚¤ãƒ³",-1)])]),_:1}))]),a("div",Y,[a("div",Z,[e[3]||(e[3]=a("span",{class:"icon"},"ðŸ”",-1)),K(a("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),type:"search",placeholder:"ã‚¤ãƒ™ãƒ³ãƒˆ / ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’æ¤œç´¢"},null,512),[[G,p.value]])]),a("div",ee,[e[4]||(e[4]=a("p",{class:"chip-label"},"ã‚¿ã‚°",-1)),a("div",te,[(o(),n(C,null,x(I,s=>a("button",{key:s.value,class:L(["chip",{active:u.value===s.value}]),type:"button",onClick:m=>u.value=s.value},r(s.label),11,se)),64))])])]),_.value?(o(),n("p",ae,"èª­ã¿è¾¼ã¿ä¸­...")):i.value?(o(),n("p",oe,r(i.value),1)):(o(),n("div",le,[k.value.length?(o(),n("ul",re,[(o(!0),n(C,null,x(k.value,s=>(o(),n("li",{key:s.id,class:"event-card",onClick:m=>z(s.id)},[a("div",{class:"event-card__cover",style:J(V(s))},[s.coverImageUrl?H("",!0):(o(),n("span",ie,r(B(s)),1))],4),a("div",ue,[a("p",de,r(b(s)),1),a("p",ve,r(U(s.startTime)),1),a("p",_e,r(s.locationText),1),a("div",pe,[a("span",{class:L(["status-pill",f(s).class])},r(f(s).text),3),a("span",{class:"capacity"},r(ye))])])],8,ce))),128))])):(o(),n("div",ne," ç¾åœ¨å…¬é–‹ä¸­ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ "))])),a("nav",me,[y(l,{to:"/events",class:"tab-item active"},{default:d(()=>[...e[5]||(e[5]=[v("ã‚¤ãƒ™ãƒ³ãƒˆ",-1)])]),_:1}),y(l,{to:"/community/musashino-kids",class:"tab-item"},{default:d(()=>[...e[6]||(e[6]=[v("ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£",-1)])]),_:1}),y(l,{to:{name:"console-home"},class:"tab-item"},{default:d(()=>[...e[7]||(e[7]=[v("ã‚³ãƒ³ã‚½ãƒ¼ãƒ«",-1)])]),_:1})])])}}}),be=P(he,[["__scopeId","data-v-8ebb879c"]]);export{be as default};
