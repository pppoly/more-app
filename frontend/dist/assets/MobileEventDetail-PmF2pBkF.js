import{d as at,B as st,u as nt,m as lt,r as m,a as ot,c as u,C as it,b as X,g as ee,D as P,o as rt,e as i,f as r,j as g,E as $e,t as d,F as k,i as a,n as te,h as S,z as $,k as ae,w as Ue,G as ut,H as ct,I as vt,_ as dt}from"./index-DncFUGrq.js";import{u as mt}from"./useFavorites-BrCkt4F-.js";const pt={class:"event-detail-page"},gt={key:0,class:"event-skeleton"},ht={key:1,class:"event-state error"},ft={class:"m-event-content event-content--with-footer"},_t={class:"event-hero"},yt={class:"event-carousel"},kt=["src","alt","onError"],bt={key:2,class:"carousel-dots"},wt=["onClick"],Ct={class:"event-hero-info"},Tt={class:"m-text-event-title-main"},St={class:"event-hero-meta"},$t={class:"event-hero-meta__left"},Ut={class:"view-count"},xt={class:"event-hero-actions"},Mt={key:0,class:"event-hero-hint"},Dt={key:1,class:"event-hero-toast"},It={key:0,class:"m-chip-row"},Pt=["onClick"],At={class:"m-event-card event-meta-card"},Lt={class:"event-schedule-block"},Ft={class:"event-meta-row event-meta-row--schedule"},Et={class:"event-schedule"},Rt={class:"event-schedule__day"},Bt={class:"event-schedule__time"},Nt={key:0,class:"event-schedule__badge"},zt={class:"event-meta-row event-meta-row--location"},Ht={class:"event-meta-text"},Vt={class:"event-location-title"},jt={key:1,class:"event-section"},Ot={class:"m-event-card"},Jt={class:"event-progress-head"},qt={class:"event-progress"},Gt={key:0,class:"participant-wall"},Kt={class:"participant-avatars"},Qt=["src","alt"],Yt={key:1},Zt={class:"sr-only"},Wt={class:"participants-hint"},Xt={key:1,class:"participants-empty"},ea={class:"event-section"},ta={class:"m-event-card event-group-card"},aa={class:"group-main"},sa=["disabled"],na={class:"group-text"},la={class:"group-name"},oa={key:0,class:"i-lucide-bell-minus"},ia={key:1,class:"i-lucide-bell-plus"},ra={class:"event-section"},ua={class:"m-event-card"},ca=["innerHTML"],va={key:2,class:"event-section"},da={class:"m-event-card"},ma={class:"event-requirements"},pa={class:"event-footer"},ga={class:"price-block"},ha={class:"price"},fa=["disabled"],_a={key:0,class:"cta-hint"},ya={class:"participant-sheet__body"},ka={class:"participant-list"},ba={class:"participant-list__avatar"},wa=["src","alt"],Ca={key:1},Ta={class:"participant-list__name"},Sa=at({__name:"MobileEventDetail",setup($a){const q=st(),A=nt(),{user:L}=lt(),F=mt(),l=m(null),E=m([]),G=m({}),K=ot(),{slotMap:se}=K,U=u(()=>K.getStringValue("mobile.eventDetail.heroFallback")||se["mobile.eventDetail.heroFallback"].defaultValue),xe=u(()=>K.getStringValue("global.defaultAvatar")||se["global.defaultAvatar"].defaultValue),Q=m(!0),R=m(null);m(null),m(!1),m(!1),m(!1),m(null),m(null),m(!1),m(!1),it({});const x=m(null),h=m(0),f=m(null),B=m(!1),Me=u(()=>{var e;return((e=f.value)==null?void 0:e.status)??"none"}),_=u(()=>q.params.eventId),Y=u(()=>!!L.value),ne=u(()=>{var e;return((e=l.value)==null?void 0:e.registrationFormSchema)??[]}),le=u(()=>{var t;const e=(t=n.value)==null?void 0:t.id;return e?F.isFavorite(e):!1}),N=u(()=>!!f.value),De=u(()=>{var e;return B.value&&!N.value?"読み込み中…":N.value?"申込済み・チケットを見る":((e=n.value)==null?void 0:e.status)==="open"?"イベントに申し込む":"受付終了"}),Ie=u(()=>N.value?!1:n.value?n.value.status!=="open"||B.value:!0),n=u(()=>{var ke,be,we,Ce,Te,Se;if(!l.value)return null;const e=ge(l.value.startTime),t=l.value.endTime?ge(l.value.endTime):"未定",o=l.value.config??{},c=Math.max(0,Number(o.currentParticipants??o.currentAttendees??o.regCount??0)),s=typeof l.value.maxParticipants=="number"?l.value.maxParticipants:o.capacity??null,v=typeof o.regSummary=="string"&&o.regSummary.trim().length?o.regSummary:`${c}名が参加予定`,y=s&&s>0?Math.min(100,Math.round(c/s*100)):0,_e=Array.isArray(o.attendeeAvatars)?o.attendeeAvatars:[],ye=Array.isArray(o.participants)?o.participants:[],et=(ye.length>0?ye:_e.map((T,J)=>({id:`avatar-${J}`,name:`参加者${J+1}`,avatarUrl:T}))).map((T,J)=>({id:T.id??`participant-${J}`,name:T.name??"ゲスト",avatarUrl:T.avatarUrl?X(T.avatarUrl):""})),tt=o.participantCount??((ke=o.participants)==null?void 0:ke.length)??_e.length??(s?Math.min(c,s):c);return{id:l.value.id,status:l.value.status,registrationStatus:Me.value,title:ee(l.value.title),categoryLabel:l.value.category??"イベント",timeFullText:`${e} 〜 ${t}`,locationText:l.value.locationText,coverUrl:((be=E.value[0])==null?void 0:be.imageUrl)||(l.value.coverImageUrl?X(l.value.coverImageUrl):null)||U.value,regSummary:v,capacityText:s?`定員 ${s}名・現在 ${c}名`:`現在 ${c}名`,regProgress:y,priceText:((we=l.value.config)==null?void 0:we.priceText)??"無料 / 未定",hostName:((Ce=l.value.community)==null?void 0:Ce.name)??"SOCIALMORE Community",communitySlug:((Te=l.value.community)==null?void 0:Te.slug)??null,communityAvatar:X(o.communityLogoUrl||((Se=l.value.community)==null?void 0:Se.coverImageUrl)||o.communityLogo||o.communityAvatar)||xe.value,descriptionHtml:l.value.descriptionHtml??`<p>${ee(l.value.description??l.value.title)}</p>`,mapUrl:typeof l.value.locationLat=="number"&&typeof l.value.locationLng=="number"?`https://www.google.com/maps/dir/?api=1&destination=${l.value.locationLat},${l.value.locationLng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(l.value.locationText)}`,participantCount:tt,showParticipants:o.showRegistrationStatus!==!1,config:o,participants:et}}),oe=(e,t)=>e.id||e.imageUrl||`slide-${t}`,ie=(e,t)=>G.value[oe(e,t)]?U.value:e.imageUrl||U.value,p=u(()=>{var t;return E.value.length?E.value.map((o,c)=>({id:o.id??`gallery-${c}`,imageUrl:o.imageUrl})):[{id:"cover",imageUrl:((t=n.value)==null?void 0:t.coverUrl)||U.value}]}),re=u(()=>{var o;if(!p.value.length)return((o=n.value)==null?void 0:o.coverUrl)??U.value;const e=p.value[h.value]??p.value[0],t=Math.max(p.value.indexOf(e),0);return ie(e,t)}),Pe=u(()=>re.value?{backgroundImage:`url(${re.value})`}:{}),Z=u(()=>{var v;if(!n.value||!((v=l.value)!=null&&v.startTime))return"";const e=fe(l.value.startTime),t=fe(l.value.endTime??l.value.startTime);if(!e||!t)return"";const o=encodeURIComponent(n.value.title),c=encodeURIComponent(n.value.locationText??""),s=encodeURIComponent(ee(l.value.description??l.value.title)??n.value.title);return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${o}&dates=${e}/${t}&location=${c}&details=${s}`}),M=u(()=>{var c;if(!l.value)return[];const e={id:l.value.id,label:D(l.value.startTime),meta:he(l.value.startTime,l.value.endTime)},t=(l.value.occurrences??((c=l.value.config)==null?void 0:c.occurrences))||[],o=Array.isArray(t)?t.map((s,v)=>{var y;return{id:`occ-${v}`,label:D(s.start??s.startTime??((y=l.value)==null?void 0:y.startTime)),meta:he(s.start??s.startTime,s.end??s.endTime)}}):[];return[e,...o]});P(M,e=>{e.length&&!x.value&&(x.value=e[0].id)},{immediate:!0});const ue=u(()=>M.value.find(e=>e.id===x.value)??M.value[0]),z=u(()=>n.value?{id:n.value.id,title:n.value.title,coverUrl:n.value.coverUrl,timeText:n.value.timeFullText,locationText:n.value.locationText}:null),Ae=u(()=>{var o,c;if(!((o=l.value)!=null&&o.startTime)||!((c=l.value)!=null&&c.endTime))return!1;const e=new Date(l.value.startTime),t=new Date(l.value.endTime);return e.toDateString()!==t.toDateString()}),ce=u(()=>{var o;const e=((o=l.value)==null?void 0:o.status)??"draft";return{open:{label:"受付中",variant:"is-live"},pending:{label:"受付前",variant:"is-pending"},soldout:{label:"満席",variant:"is-soldout"},closed:{label:"受付終了",variant:"is-closed"},ended:{label:"終了",variant:"is-closed"},draft:{label:"準備中",variant:"is-pending"},cancelled:{label:"キャンセル",variant:"is-closed"}}[e]??{label:"ステータス未設定",variant:"is-closed"}}),Le=u(()=>{var o,c,s,v;const e=((c=(o=n.value)==null?void 0:o.config)==null?void 0:c.viewCount)??((v=(s=n.value)==null?void 0:s.config)==null?void 0:v.views)??0;return`${typeof e=="number"&&!Number.isNaN(e)?e:0}人想去`}),Fe=u(()=>{var e;return!!((e=n.value)!=null&&e.showParticipants)}),b=u(()=>{var e;return((e=n.value)==null?void 0:e.participants)??[]}),ve=u(()=>{var e;return((e=n.value)==null?void 0:e.participantCount)??b.value.length??0}),w=u(()=>b.value.slice(0,20)),Ee=u(()=>b.value.length>w.value.length),Re=u(()=>Math.max(b.value.length-w.value.length,0));u(()=>{var t;return{pending:"審査待ち",approved:"承認済み",rejected:"拒否",paid:"支払済み",refunded:"返金済み",pending_refund:"返金待ち",cancelled:"キャンセル"}[((t=n.value)==null?void 0:t.registrationStatus)??""]??""});const H=u(()=>{if(!n.value)return"";if(n.value.status==="cancelled")return"イベントはキャンセルされました。必要に応じて返金が進行します。";if(f.value)switch(f.value.status){case"pending":return"申込済み：主理人の承認をお待ちください。";case"approved":return"承認済み：参加が確定しました。";case"rejected":return"申込が拒否されました。内容を確認のうえ再申込してください。";case"paid":return"支払済み：チケットからQRを提示できます。";case"refunded":return"返金済み：数日内に口座へ反映されます。";case"pending_refund":return"返金処理中：完了までお待ちください。";case"cancelled":return"申込はキャンセルされています。";default:return""}return""}),Be=u(()=>ve.value?`${ve.value}名`:`${w.value.length}名`),V=m(!1),Ne=async()=>{if(_.value){Q.value=!0,R.value=null;try{const[e,t]=await Promise.all([ut(_.value),ct(_.value)]);l.value=e,E.value=t}catch(e){R.value=e instanceof Error?e.message:"イベント情報の取得に失敗しました"}finally{Q.value=!1}}},ze=async()=>{if(!L.value||!_.value){f.value=null;return}B.value=!0;try{const e=await vt();f.value=e.find(t=>t.event.id===_.value)??null}catch{f.value=null}finally{B.value=!1}};P(()=>p.value.length,()=>{h.value=0});const He=async()=>{var o;if(!n.value)return;const e={title:n.value.title,url:window.location.href};if(navigator.share)try{await navigator.share(e),O("已分享");return}catch{}const t=`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e.url)}`;window.open(t,"_blank"),O("已打开 LINE 分享");try{(o=navigator.clipboard)!=null&&o.writeText&&await navigator.clipboard.writeText(e.url)}catch{}};let W=null;const j=m(""),O=e=>{j.value=e,W&&window.clearTimeout(W),W=window.setTimeout(()=>{j.value=""},2e3)},Ve=()=>{if(!(!n.value||!z.value)){if(!Y.value){typeof window<"u"&&(window.localStorage.setItem("favorite:redirect",q.fullPath),window.localStorage.setItem("favorite:data",JSON.stringify(z.value))),A.push({name:"organizer-apply",query:{redirect:q.fullPath}});return}F.toggleFavorite(z.value),O(le.value?"已收藏":"已取消收藏")}},je=e=>{e<0||e>=p.value.length||(h.value=e)},Oe=()=>{p.value.length&&(h.value=(h.value-1+p.value.length)%p.value.length)},Je=()=>{p.value.length&&(h.value=(h.value+1)%p.value.length)},qe=(e,t)=>{G.value={...G.value,[oe(e,t)]:!0}},Ge=()=>{Z.value&&window.open(Z.value,"_blank")},C=m(!1),Ke=()=>{C.value=!C.value,O(C.value?"已关注":"已取消关注")},Qe=u(()=>{var t;const e=(t=n.value)==null?void 0:t.communityAvatar;return e?{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"#f8fafc"}:{}}),Ye=()=>{var e;(e=n.value)!=null&&e.communitySlug&&A.push({name:"community-portal",params:{slug:n.value.communitySlug}})},de=e=>e?e.charAt(0).toUpperCase():"G",me=()=>{w.value.length&&(V.value=!0)},pe=()=>{V.value=!1},Ze=()=>{var e;(e=n.value)!=null&&e.mapUrl&&window.open(n.value.mapUrl,"_blank")},We=()=>{if(n.value){if(N.value){A.push({name:"my-events"});return}n.value.status==="open"&&A.push({name:"MobileEventRegister",params:{eventId:n.value.id}})}},Xe=(e,t)=>e.id??`${e.label??"field"}-${t}`,ge=e=>new Date(e).toLocaleString("ja-JP",{month:"short",day:"numeric",weekday:"short",hour:"2-digit",minute:"2-digit"}),D=e=>e?new Date(e).toLocaleDateString("ja-JP",{month:"long",day:"numeric",weekday:"short"}):"",he=(e,t)=>{if(!e)return"";const o=new Date(e),c=o.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});if(!t)return`${D(e)} ${c} 開始`;const s=new Date(t),v=s.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});return o.toDateString()===s.toDateString()?`${c} - ${v}`:`${D(e)} ${c} 〜 ${D(t)} ${v}`},I=e=>e.toString().padStart(2,"0"),fe=e=>{if(!e)return"";const t=new Date(e);return`${t.getUTCFullYear()}${I(t.getUTCMonth()+1)}${I(t.getUTCDate())}T${I(t.getUTCHours())}${I(t.getUTCMinutes())}${I(t.getUTCSeconds())}Z`};return rt(Ne),P(()=>{var e;return[(e=L.value)==null?void 0:e.id,_.value]},()=>{L.value&&_.value?ze():f.value=null},{immediate:!0}),P(()=>{var e;return[Y.value,(e=n.value)==null?void 0:e.id]},()=>{if(!(typeof window>"u")&&Y.value&&n.value&&z.value){const e=window.localStorage.getItem("favorite:data");if(e)try{const t=JSON.parse(e);t.id===n.value.id&&!F.isFavorite(t.id)&&F.addFavorite(t)}catch(t){console.warn("Failed to process pending favorite",t)}finally{window.localStorage.removeItem("favorite:data")}}},{immediate:!0}),P(b,e=>{e.length||(V.value=!1)},{immediate:!0}),(e,t)=>{var o,c;return r(),i("div",pt,[Q.value?(r(),i("div",gt,[...t[1]||(t[1]=[$e('<div class="skeleton-hero shimmer" data-v-10ca2aa3></div><div class="skeleton-content" data-v-10ca2aa3><div class="skeleton-title shimmer" data-v-10ca2aa3></div><div class="skeleton-button-row" data-v-10ca2aa3><span class="skeleton-button shimmer" data-v-10ca2aa3></span><span class="skeleton-button shimmer" data-v-10ca2aa3></span></div><div class="skeleton-card shimmer" data-v-10ca2aa3></div><div class="skeleton-card shimmer" data-v-10ca2aa3></div><div class="skeleton-card skeleton-card--short shimmer" data-v-10ca2aa3></div></div>',2)])])):R.value?(r(),i("div",ht,d(R.value),1)):n.value?(r(),i(k,{key:2},[a("main",ft,[a("section",_t,[t[6]||(t[6]=a("div",{class:"event-hero__overlay"},null,-1)),a("div",{class:"event-cover-wrapper",style:te(Pe.value)},[a("div",yt,[(r(!0),i(k,null,S(p.value,(s,v)=>(r(),i("div",{key:s.id||s.imageUrl||v,class:$(["event-carousel__slide",{"is-active":v===h.value}])},[a("img",{src:ie(s,v),class:"event-cover",alt:`event cover ${v+1}`,onError:y=>qe(s,v)},null,40,kt)],2))),128)),p.value.length>1?(r(),i("button",{key:0,class:"carousel-nav carousel-nav--prev",type:"button",onClick:Oe},[...t[2]||(t[2]=[a("span",{class:"i-lucide-chevron-left"},null,-1)])])):g("",!0),p.value.length>1?(r(),i("button",{key:1,class:"carousel-nav carousel-nav--next",type:"button",onClick:Je},[...t[3]||(t[3]=[a("span",{class:"i-lucide-chevron-right"},null,-1)])])):g("",!0),p.value.length>1?(r(),i("div",bt,[(r(!0),i(k,null,S(p.value,(s,v)=>(r(),i("button",{key:s.id||s.imageUrl||`dot-${v}`,class:$(["carousel-dot",{"is-active":v===h.value}]),onClick:y=>je(v)},null,10,wt))),128))])):g("",!0)])],4),a("div",Ct,[a("h1",Tt,d(n.value.title),1),a("div",St,[a("div",$t,[a("span",{class:$(["event-status-badge",ce.value.variant])},d(ce.value.label),3),a("span",Ut,d(Le.value),1)]),a("div",xt,[a("button",{class:"event-action-icon",type:"button",onClick:He},[...t[4]||(t[4]=[a("span",{class:"i-lucide-share-2"},null,-1)])]),a("button",{class:$(["event-action-icon",{"is-active":le.value}]),type:"button",onClick:Ve},[...t[5]||(t[5]=[a("span",{class:"i-lucide-bookmark"},null,-1)])],2)])]),H.value?(r(),i("p",Mt,d(H.value),1)):g("",!0),j.value?(r(),i("p",Dt,d(j.value),1)):g("",!0)])]),M.value.length>1?(r(),i("div",It,[(r(!0),i(k,null,S(M.value,s=>(r(),i("button",{key:s.id,class:$(["m-chip",{"is-active":s.id===x.value}]),onClick:v=>x.value=s.id},d(s.label),11,Pt))),128))])):g("",!0),a("section",At,[a("div",Lt,[a("div",Ft,[t[7]||(t[7]=a("div",{class:"event-meta-icon"},[a("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none"},[a("rect",{x:"3",y:"4",width:"18",height:"17",rx:"3",stroke:"currentColor","stroke-width":"1.5"}),a("path",{d:"M3 9h18M8 2v4M16 2v4",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})])],-1)),a("div",Et,[a("p",Rt,d(((o=ue.value)==null?void 0:o.label)??n.value.timeFullText),1),a("p",Bt,d(((c=ue.value)==null?void 0:c.meta)??n.value.timeFullText),1)]),Ae.value?(r(),i("span",Nt,"複数日程")):g("",!0)]),Z.value?(r(),i("button",{key:0,class:"event-schedule__cta",type:"button",onClick:Ge},[...t[8]||(t[8]=[a("span",{class:"i-lucide-calendar-plus"},null,-1),ae(" カレンダーに追加 ",-1)])])):g("",!0)]),t[11]||(t[11]=a("div",{class:"m-divider"},null,-1)),a("div",zt,[t[10]||(t[10]=$e('<div class="event-meta-icon" data-v-10ca2aa3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" data-v-10ca2aa3><path d="M12 21c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7 3.582 7 8 7z" stroke="currentColor" stroke-width="1.5" data-v-10ca2aa3></path><path d="M12 11v6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-10ca2aa3></path><path d="M7 3h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-10ca2aa3></path></svg></div>',1)),a("div",Ht,[a("div",Vt,d(n.value.locationText),1)]),a("button",{class:"event-map-button",type:"button",onClick:Ze},[...t[9]||(t[9]=[a("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[a("path",{d:"M12 21c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7 3.582 7 8 7z",stroke:"currentColor","stroke-width":"1.5"}),a("path",{d:"M12 11v6",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),a("path",{d:"M7 3h10",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1),ae(" ルートを見る ",-1)])])])]),Fe.value?(r(),i("section",jt,[t[12]||(t[12]=a("h2",{class:"m-section-title"},"参加状況",-1)),a("div",Ot,[a("div",Jt,[a("span",null,d(n.value.regSummary),1),a("span",null,d(n.value.capacityText),1)]),a("div",qt,[a("div",{class:"event-progress__bar",style:te({width:`${n.value.regProgress}%`})},null,4)]),w.value.length?(r(),i("div",Gt,[a("div",Kt,[(r(!0),i(k,null,S(w.value,s=>(r(),i("button",{key:s.id||s.name,class:"participant-avatar",type:"button",onClick:me},[s.avatarUrl?(r(),i("img",{key:0,src:s.avatarUrl,alt:s.name},null,8,Qt)):(r(),i("span",Yt,d(de(s.name)),1)),a("span",Zt,d(s.name),1)]))),128)),Ee.value?(r(),i("button",{key:0,class:"participant-more",type:"button",onClick:me}," +"+d(Re.value),1)):g("",!0)]),a("p",Wt,"最近の参加者（"+d(Be.value)+"）",1)])):(r(),i("p",Xt,"表示できる参加者がまだいません。"))])])):g("",!0),a("section",ea,[t[15]||(t[15]=a("h2",{class:"m-section-title"},"主催コミュニティ",-1)),a("div",ta,[a("div",aa,[a("button",{class:"group-info",type:"button",onClick:Ye,disabled:!n.value.communitySlug},[a("div",{class:"group-avatar",style:te(Qe.value)},null,4),a("div",na,[a("div",la,d(n.value.hostName),1),t[13]||(t[13]=a("div",{class:"m-text-meta"},"最新ニュースとイベント情報",-1))])],8,sa),a("button",{class:$(["group-follow",{"is-active":C.value}]),type:"button",onClick:Ke},[C.value?(r(),i("span",oa)):(r(),i("span",ia)),ae(" "+d(C.value?"フォロー中":"フォロー"),1)],2)]),t[14]||(t[14]=a("p",{class:"group-hint"},"このコミュニティをフォローすると最新イベントやアナウンスを受け取れます。",-1))])]),a("section",ra,[t[16]||(t[16]=a("h2",{class:"m-section-title"},"About",-1)),a("div",ua,[a("div",{class:"m-text-body prose prose-sm max-w-none",innerHTML:n.value.descriptionHtml},null,8,ca)])]),ne.value.length?(r(),i("section",va,[t[17]||(t[17]=a("h2",{class:"m-section-title"},"申込時の必須情報",-1)),a("div",da,[a("ul",ma,[(r(!0),i(k,null,S(ne.value,(s,v)=>(r(),i("li",{key:Xe(s,v)},"・"+d(s.label),1))),128))])])])):g("",!0)]),a("footer",pa,[a("div",ga,[a("p",ha,d(n.value.priceText),1)]),a("button",{class:"rails-cta",type:"button",disabled:Ie.value,onClick:We},[a("span",null,d(De.value),1)],8,fa),H.value?(r(),i("p",_a,d(H.value),1)):g("",!0)])],64)):g("",!0),V.value?(r(),i("div",{key:3,class:"participant-backdrop",onClick:Ue(pe,["self"])},[a("div",{class:"participant-sheet",onClick:t[0]||(t[0]=Ue(()=>{},["stop"]))},[t[20]||(t[20]=a("div",{class:"participant-sheet__handle"},null,-1)),a("div",{class:"participant-sheet__header"},[t[19]||(t[19]=a("h3",null,"参加者一覧",-1)),a("button",{class:"participant-close",type:"button",onClick:pe},[...t[18]||(t[18]=[a("span",{class:"i-lucide-x text-lg"},null,-1)])])]),a("div",ya,[a("ul",ka,[(r(!0),i(k,null,S(b.value,s=>(r(),i("li",{key:s.id||s.name,class:"participant-list__item"},[a("div",ba,[s.avatarUrl?(r(),i("img",{key:0,src:s.avatarUrl,alt:s.name},null,8,wa)):(r(),i("span",Ca,d(de(s.name)),1))]),a("div",Ta,d(s.name||"ゲスト"),1)]))),128))])])])])):g("",!0)])}}}),Da=dt(Sa,[["__scopeId","data-v-10ca2aa3"]]);export{Da as default};
