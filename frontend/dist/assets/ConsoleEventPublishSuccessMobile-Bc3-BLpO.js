import{d as R,B as M,r as f,c as r,g as P,o as S,e as a,i as t,j as v,t as o,k as c,s as B,ar as $,u as w,f as l,_ as N}from"./index-D9GuT0xz.js";const V={class:"publish-success"},j={class:"success-hero"},L={key:0,class:"hero-meta"},z={key:1,class:"hero-meta"},A={class:"success-card"},H={key:0,class:"stat-grid"},J={class:"stat-box"},q={class:"stat-box"},F={class:"actions"},G=["disabled"],K={key:0,class:"status-text"},O={key:1,class:"status-text error"},Q=R({__name:"ConsoleEventPublishSuccessMobile",setup(U){const h=M(),m=w(),i=h.params.eventId,n=f(null),p=f(!0),d=f(null),y=r(()=>n.value&&P(n.value.title)||"活动已发布"),x=r(()=>{var s,e;return b((s=n.value)==null?void 0:s.startTime,(e=n.value)==null?void 0:e.endTime)}),_=r(()=>{var s;return((s=n.value)==null?void 0:s.locationText)||"地点待定"}),T=r(()=>{var s,e,u;return b(((s=n.value)==null?void 0:s.regStartTime)??((e=n.value)==null?void 0:e.startTime),(u=n.value)==null?void 0:u.regEndTime)}),C=r(()=>{if(!n.value)return"未设置";const s=n.value.minParticipants??"—",e=n.value.maxParticipants??"—";return`${s} ~ ${e} 人`}),k=async()=>{if(!i){d.value="缺少活动 ID",p.value=!1;return}try{n.value=await $(i)}catch(s){d.value=s instanceof Error?s.message:"无法获取活动信息"}finally{p.value=!1}},E=()=>{i&&m.push({name:"event-detail",params:{eventId:i}})},D=()=>{var s;(s=n.value)!=null&&s.communityId?m.push({name:"ConsoleMobileCommunityEvents",params:{communityId:n.value.communityId}}):m.push({name:"ConsoleMobileHome"})},b=(s,e)=>{if(!s)return"";const u=g(s);if(!e)return u;const I=g(e);return`${u} · ${I}`},g=s=>new Date(s).toLocaleString("ja-JP",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return S(()=>{k()}),(s,e)=>(l(),a("section",V,[t("header",j,[e[2]||(e[2]=t("div",{class:"hero-icon"},[t("span",{class:"i-lucide-check"})],-1)),e[3]||(e[3]=t("p",{class:"hero-label"},"活动发布成功",-1)),t("h1",null,o(y.value),1),x.value?(l(),a("p",L,[e[0]||(e[0]=t("span",{class:"i-lucide-calendar mr-1"},null,-1)),c(o(x.value),1)])):v("",!0),_.value?(l(),a("p",z,[e[1]||(e[1]=t("span",{class:"i-lucide-map-pin mr-1"},null,-1)),c(o(_.value),1)])):v("",!0)]),t("section",A,[e[6]||(e[6]=t("h2",null,"接下来可以做的",-1)),e[7]||(e[7]=t("ul",{class:"next-actions"},[t("li",null,[t("span",{class:"dot"}),c(" 将活动链接分享到社群或聊天群，越早宣传越好。 ")]),t("li",null,[t("span",{class:"dot"}),c(" 在 Console 查看报名情况、手动添加或联系参与者。 ")]),t("li",null,[t("span",{class:"dot"}),c(" 若需要更多细节，可继续通过 AI 助手完善流程。 ")])],-1)),n.value?(l(),a("div",H,[t("div",J,[e[4]||(e[4]=t("p",null,"报名期限",-1)),t("strong",null,o(T.value),1)]),t("div",q,[e[5]||(e[5]=t("p",null,"参与人数设置",-1)),t("strong",null,o(C.value),1)])])):v("",!0)]),t("div",F,[t("button",{type:"button",class:"btn primary",disabled:!B(i),onClick:E}," 查看活动详情 ",8,G),t("button",{type:"button",class:"btn ghost",onClick:D}," 返回 Console ")]),p.value?(l(),a("p",K,"加载活动信息中...")):d.value?(l(),a("p",O,o(d.value),1)):v("",!0)]))}}),X=N(Q,[["__scopeId","data-v-9f900f44"]]);export{X as default};
