import{d as f,r as d,o as h,e as o,i as s,t as n,F as A,h as k,ax as b,u as w,f as r,j as C,z as I,k as N,_ as O}from"./index-D9GuT0xz.js";const S={class:"ai-overview"},x={class:"hero"},L={class:"hero-meta"},D={key:0,class:"error-card"},V=["aria-busy"],j={class:"module-head"},B={class:"module-eyebrow"},E={class:"module-desc"},F={key:0,class:"metric-grid"},z={class:"metric"},J={class:"metric"},M={class:"metric"},P={class:"metric"},R={class:"metric"},U={class:"metric"},T={key:1,class:"coming-soon"},$=["onClick"],q=f({__name:"AdminAiOverview",setup(G){const y=w(),u=d(null),c=d(!1),l=d(null),a=i=>typeof i!="number"?"-":new Intl.NumberFormat("ja-JP").format(i),m=i=>i?new Date(i).toLocaleString("ja-JP",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,g=i=>{y.push({name:"admin-ai-detail",params:{moduleId:i}})},p=async()=>{c.value=!0,l.value=null;try{u.value=await b()}catch(i){console.error(i),l.value="无法加载 AI 使用概览，请稍后重试。"}finally{c.value=!1}};return h(()=>{p()}),(i,t)=>{var v,_;return r(),o("main",S,[s("section",x,[t[0]||(t[0]=s("p",{class:"hero-chip"},"SOCIALMORE · AI 控制",-1)),t[1]||(t[1]=s("h1",null,"AI 助手使用情况",-1)),t[2]||(t[2]=s("p",{class:"hero-desc"}," 这里可以看到所有 AI 助手的运行概况、关键指标，并进入各模块的详细使用记录。 ",-1)),s("p",L,"上次拉取："+n(m((v=u.value)==null?void 0:v.generatedAt)),1)]),l.value?(r(),o("section",D,[s("p",null,n(l.value),1),s("button",{type:"button",onClick:p},"重新加载")])):(r(),o("section",{key:1,class:"module-list","aria-busy":c.value},[(r(!0),o(A,null,k(((_=u.value)==null?void 0:_.modules)??[],e=>(r(),o("article",{key:e.id,class:"module-card"},[s("div",j,[s("div",null,[s("p",B,n(e.status==="active"?"运行中":"筹备中"),1),s("h2",null,n(e.name),1)]),s("span",{class:I(["status-pill",e.status==="active"?"is-active":"is-muted"])},n(e.status==="active"?"LIVE":"SOON"),3)]),s("p",E,n(e.description),1),e.metrics?(r(),o("div",F,[s("div",z,[t[3]||(t[3]=s("p",null,"会话总数",-1)),s("strong",null,n(a(e.metrics.totalLogs)),1)]),s("div",J,[t[4]||(t[4]=s("p",null,"24h",-1)),s("strong",null,n(a(e.metrics.last24h)),1)]),s("div",M,[t[5]||(t[5]=s("p",null,"7天",-1)),s("strong",null,n(a(e.metrics.last7d)),1)]),s("div",P,[t[6]||(t[6]=s("p",null,"活跃社群",-1)),s("strong",null,n(a(e.metrics.activeCommunities)),1)]),s("div",R,[t[7]||(t[7]=s("p",null,"活跃用户",-1)),s("strong",null,n(a(e.metrics.activeUsers)),1)]),s("div",U,[t[8]||(t[8]=s("p",null,"最新记录",-1)),s("strong",null,n(m(e.metrics.lastActivityAt)??"—"),1)])])):(r(),o("div",T,[...t[9]||(t[9]=[s("p",null,"功能筹备中，敬请期待。",-1)])])),e.status==="active"?(r(),o("button",{key:2,class:"outline-button",type:"button",onClick:H=>g(e.id)},[...t[10]||(t[10]=[N(" 查看详细数据 ",-1),s("span",{class:"i-lucide-arrow-up-right"},null,-1)])],8,$)):C("",!0)]))),128))],8,V))])}}}),Q=O(q,[["__scopeId","data-v-75c9461d"]]);export{Q as default};
