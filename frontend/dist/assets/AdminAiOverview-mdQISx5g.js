import{d as h,r as d,o as b,e as i,i as t,t as n,F as A,h as k,j as C,z as w,k as I,u as N,aA as O,f as a,_ as S}from"./index-DncFUGrq.js";const L={class:"ai-overview"},x={class:"hero"},D={class:"hero-meta"},P={key:0,class:"error-card"},V=["aria-busy"],j={class:"module-head"},B={class:"module-eyebrow"},E={class:"module-desc"},F={key:0,class:"metric-grid"},z={class:"metric"},J={class:"metric"},M={class:"metric"},R={class:"metric"},U={class:"metric"},T={class:"metric"},$={key:1,class:"coming-soon"},q=["onClick"],G=h({__name:"AdminAiOverview",setup(H){const m=N(),u=d(null),c=d(!1),l=d(null),r=o=>typeof o!="number"?"-":new Intl.NumberFormat("ja-JP").format(o),p=o=>o?new Date(o).toLocaleString("ja-JP",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,g=o=>{m.push({name:"admin-ai-detail",params:{moduleId:o}})},f=()=>{m.push({name:"admin-ai-prompts"})},v=async()=>{c.value=!0,l.value=null;try{u.value=await O()}catch(o){console.error(o),l.value="无法加载 AI 使用概览，请稍后重试。"}finally{c.value=!1}};return b(()=>{v()}),(o,s)=>{var _,y;return a(),i("main",L,[t("section",x,[s[0]||(s[0]=t("p",{class:"hero-chip"},"SOCIALMORE · AI 控制",-1)),s[1]||(s[1]=t("h1",null,"AI 助手使用情况",-1)),s[2]||(s[2]=t("p",{class:"hero-desc"}," 这里可以看到所有 AI 助手的运行概况、关键指标，并进入各模块的详细使用记录。 ",-1)),t("p",D,"上次拉取："+n(p((_=u.value)==null?void 0:_.generatedAt)),1),t("div",{class:"hero-actions"},[t("button",{type:"button",class:"outline-button",onClick:f},"Prompt 管理")])]),l.value?(a(),i("section",P,[t("p",null,n(l.value),1),t("button",{type:"button",onClick:v},"重新加载")])):(a(),i("section",{key:1,class:"module-list","aria-busy":c.value},[(a(!0),i(A,null,k(((y=u.value)==null?void 0:y.modules)??[],e=>(a(),i("article",{key:e.id,class:"module-card"},[t("div",j,[t("div",null,[t("p",B,n(e.status==="active"?"运行中":"筹备中"),1),t("h2",null,n(e.name),1)]),t("span",{class:w(["status-pill",e.status==="active"?"is-active":"is-muted"])},n(e.status==="active"?"LIVE":"SOON"),3)]),t("p",E,n(e.description),1),e.metrics?(a(),i("div",F,[t("div",z,[s[3]||(s[3]=t("p",null,"会话总数",-1)),t("strong",null,n(r(e.metrics.totalLogs)),1)]),t("div",J,[s[4]||(s[4]=t("p",null,"24h",-1)),t("strong",null,n(r(e.metrics.last24h)),1)]),t("div",M,[s[5]||(s[5]=t("p",null,"7天",-1)),t("strong",null,n(r(e.metrics.last7d)),1)]),t("div",R,[s[6]||(s[6]=t("p",null,"活跃社群",-1)),t("strong",null,n(r(e.metrics.activeCommunities)),1)]),t("div",U,[s[7]||(s[7]=t("p",null,"活跃用户",-1)),t("strong",null,n(r(e.metrics.activeUsers)),1)]),t("div",T,[s[8]||(s[8]=t("p",null,"最新记录",-1)),t("strong",null,n(p(e.metrics.lastActivityAt)??"—"),1)])])):(a(),i("div",$,[...s[9]||(s[9]=[t("p",null,"功能筹备中，敬请期待。",-1)])])),e.status==="active"?(a(),i("button",{key:2,class:"outline-button",type:"button",onClick:K=>g(e.id)},[...s[10]||(s[10]=[I(" 查看详细数据 ",-1),t("span",{class:"i-lucide-arrow-up-right"},null,-1)])],8,q)):C("",!0)]))),128))],8,V))])}}}),W=S(G,[["__scopeId","data-v-0296b51d"]]);export{W as default};
